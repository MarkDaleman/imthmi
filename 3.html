<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IMTHMI</title>
    <meta name="description" content="Hello, World! â€¢ A-Frame">
    <!-- Aframe.io master JS inladen -->
    <script src="dist/aframe-master.js"></script>
    <script src="https://rawgit.com/bryik/aframe-bmfont-text-component/master/dist/aframe-bmfont-text-component.min.js"></script>
    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="http://popcornjs.org/code/dist/popcorn-complete.js"></script>
  </head>
  <body>
    <!-- Hieronder staat een scene -->
    <a-scene>
      <!-- Hieronder staan de voorgedefinieerde attributen-->
      <a-assets>
        <!--Achtergrond video (1) voor de school-->
        <video id="video3" src="movies/video3.mp4"
               loop crossorigin></video>
      </a-assets>
      <!--Hieronder staat de camera-->
      <a-camera>
            <a-entity cursor="fuse: true; maxDistance: 30; timeout: 500" position="0 0 -15" geometry="primitive: ring" material="color: white; shader: flat">
                <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
                <a-animation begin="fusing" easing="ease-in" attribute="scale" fill="forwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
            </a-entity>
        <a-box id="userText" position="6.80 0 -12.80" rotation="0 90 0" scale="0 5 10" opacity="0.3" color="grey" geometry="mergeTo:null"></a-box>
        <a-entity id="textTechniek" scale= "1.5 1.5 1.5" position="-2.58 -1.99 -7.75" visible='false' bmfont-text="width: 800; color: white; opacity: 1; text:
      In dit lokaal vinden de meeste lessen voor de specialities plaats. Vanaf het tweede jaar, maar ook in het eerste jaar zul je hier vaak te vinden zijn als student." position="2 -1 -12.63" rotation="0 0 0" scale="3 3 3"></a-entity>

        <a-image id="miniMap" src="minimap/minimap_v3.png" position="-7 -3 -5" scale="2 2 2"></a-image>

      </a-camera>

      <!--Hieronder worden ingeladen attributen geselecteerd-->
      <a-videosphere src="#video3" rotation="0 180 0"></a-videosphere>



      <!--Scripts voor pauze-->
      <script>
        $( document ).ready(function(){
          var video =  document.querySelector("#video3");
          var kaas = true;
          //Deze functie blijft aan de video vragen hoe ver hij is en zet hem dan in een loop voor de laatste 20 seconden.
          video.addEventListener("timeupdate", function () {
            if ($('#video3')[0].currentTime >= 44 && kaas) {
              console.log(this.currentTime);
              this.pause();
              this.currentTime = 23;
              this.play();
            }

          });

        });

      </script>

      <!--Box Kantine-->
      <a-box id="boxKantine" position="-18.67 2.09 -28.15" scale="0.1 6 8" rotation="0 -45" opacity="0.3" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>

      <!--Box Receptie-->
      <a-box id="boxReceptie" position="29.07 0.45 -12.41" scale="0.1 6 8" rotation="0 20" opacity="0.3" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>
        <!--Tekst Receptie-->
        <!-- Box Studentzaken-->
      <a-box id="boxStudentzaken" position="2.49 1.49 37.65" scale="0.1 6 8" rotation="0 80" opacity="0.3" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>
        <!--Tekst Studentzaken-->


      <!--Uitgang naar buiten (Video 1) -->
      <a-box id="boxBuitenVoor" position="-23.53 1.49 -2.83" scale="0.1 6 8" rotation="0 10" opacity="0.5" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>
              <!--Tekst Studentzaken-->
        <a-entity id="buitenVoorText" visible="true" bmfont-text="width: 750; color: white; opacity: 1; text:
          Terug naar het begin"
        position="-24.13 -2.65 1.12" rotation="0 95 0" scale="5 5 5"></a-entity>

      <!--Uitgang naar Rokershok (Video 2) -->
      <a-box id="boxBuitenAchter" position="19 1.4 -17.56" scale="0.1 2 4" rotation="0 40" opacity="0.5" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>
              <!--Tekst Studentzaken-->
        <a-entity id="buitenAchterText" visible="true" bmfont-text="width: 750; color: white; opacity: 1; text:
          Ga naar buiten"
        position="20.12 -2.65 -22.41" rotation="0 -50 0" scale="5 5 5"></a-entity>

		<!--Naar de trap-->
		<a-box id="boxTrap" position="3.5 1 -35" scale="0.1 5 3" rotation="0 70 0" opacity="0.5" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>
		<a-entity id="trapText" visible="true" bmfont-text="width: 750; color: white; opacity: 1; text:
          Ga naar de trap"
        position="0 -2.65 -35" rotation="0 -20 0" scale="5 5 5"></a-entity>

      <!--Box Kantine-->
      <!-- <a-box position="-11.91 2.5 -20" scale="0.1 6 8" rotation="0 -50" opacity="0.0" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box> -->

      <!--Box Studentzaken-->
      <!-- <a-box position="3.17 1.71 26.20" scale="0.1 6 8" rotation="0 -80" opacity="0.0" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box> -->

      <!-- Uitgang naar Rokersruimte -->
 <!--      <a-box id="boxReceptie" position="24.97 1.04 -22.69" scale="0.1 7 7" rotation="0 50" opacity="0.0" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>
 -->




    </a-scene>
    <!-- Einde van de scene -->
  </body>
</html>

<script type="text/javascript">

	var naar1 = document.getElementById('boxBuitenVoor');
	var naar2 = document.getElementById('boxBuitenAchter');
	var naar4 = document.getElementById('boxTrap');

	naar1.addEventListener('click', function () {
		window.location.href = 'https://markdaleman.github.io/imthmi/1.html';
	});

	naar2.addEventListener('click', function () {
		window.location.href = 'https://markdaleman.github.io/imthmi/2.html';
	});

	naar4.addEventListener('click', function () {
		window.location.href = 'https://markdaleman.github.io/imthmi/4.html';
	});

//document.querySelector('#boxKantine').addEventListener('click', function () {
//  var text = document.getElementById("textKantine");
//  text.setAttribute('visible', 'true');
//});
//
//document.querySelector('#boxStudentzaken').addEventListener('click', function () {
//  var text = document.getElementById("textStudentzaken");
//  text.setAttribute('visible', 'true');
//});
//
//document.querySelector('#boxReceptie').addEventListener('click', function () {
//  var text = document.getElementById("textReceptie");
//  counter = 0
//  if (counter == 0){
//  text.setAttribute('visible', 'true');
//  }
//  if (counter == 1){
//    text.setAttribute('visible', 'false');
//    counter = 0;
//  }
//  if (counter == 1){
//    counter = 0;
//  }
//  console.log("Counter", counter)
//  counter += 1
//});

// document.querySelector('#boxZaal').addEventListener('click', function () {
//   var text = document.getElementById("textZaal");
//   text.setAttribute('visible', 'true');
// });

    //maak de usertextbox onzichtbaar
    document.getElementById('userText').setAttribute('visible', 'false');
    var open = false;
    var showText = 0;

    //maak een listener voor de boxen
    //als er op de box wordt geklikt
    //doos 1
    document.querySelector('#boxKantine').addEventListener('click', function () {
      if (!open) {
        changeText(1);
        openDoos();
      }

      else if(open && showText != 1){
        changeText(1);
        openDoos();
      }

      else if(open){
        doeiText(1);
        sluitDoos();
      }

    });


    document.querySelector('#boxStudentzaken').addEventListener('click', function () {
      if (!open) {
        changeText(2);
        openDoos();
      }

      else if(open && showText != 2){
        changeText(2);
        openDoos();
      }

      else if(open){
        doeiText(2);
        sluitDoos();
      }
    });

    document.querySelector('#boxReceptie').addEventListener('click', function () {
      if (!open) {
        changeText(3);
        openDoos();
      }

      else if(open && showText != 3){
        changeText(3);
        openDoos();
      }

      else if(open){
        doeiText(3);
        sluitDoos();
      }

    });

    function openDoos(){
      var userText = document.getElementById("userText");
      userText.setAttribute('visible', 'false');
      open = true;
    }

    function sluitDoos(){
      var userText = document.getElementById("userText");
      userText.setAttribute('visible', 'false');
      open = false;
    }

    function changeText(doos){

      if (doos == 1){
        var textTechniek = document.getElementById("textTechniek");
        var userText = document.getElementById("userText");
        userText.setAttribute('scale','0 4 10');
//        textTechniek.setAttribute('position','2.30 -1.44 -11.76');
//        textTechniek.setAttribute('scale','2.75 2.5 2.75');
        textTechniek.setAttribute('bmfont-text', 'text', "In de kantine van de Hogeschool Leiden kan je eenvoudig en snel ontbijt, lunch en zelfs avondeten halen. De kantine heeft veel in de aanbieding, zoals broodjes, warm en heerlijke soepen.");
        textTechniek.setAttribute('visible', 'true');
        showText = 1;
      }

      else if(doos == 2){
        var textTechniek = document.getElementById("textTechniek");
        var userText = document.getElementById("userText");
        userText.setAttribute('scale','0 5 10');
//        textTechniek.setAttribute('position','2.3 -2.11 -12');
//        textTechniek.setAttribute('scale','2.75 2.5 2.75');
        textTechniek.setAttribute('bmfont-text', 'text', 'Studentzaken is er voor de student. Elke student kan hier terecht mochten er problemen zijn met zijn of haar inschrijving, studentenkaart of inloggegevens. Ook is hier de HSBookshop te vinden, waar studenten boeken kunnen bestellen.');
        textTechniek.setAttribute('visible', 'true');
        showText = 2;
      }

      else if(doos ==3){
        var textTechniek = document.getElementById("textTechniek");
        var userText = document.getElementById("userText");
        userText.setAttribute('scale','0 5.5 9.8');
//        textTechniek.setAttribute('position','2.3 -2.11 -12');
//        textTechniek.setAttribute('scale','2.75 2.5 2.75');
        textTechniek.setAttribute('bmfont-text', 'text', 'De receptie wordt vooral gebruikt door bezoekers van de Hogeschool Leiden. Als student kom je hier niet vaak mee in contact, maar als bijvoorbeeld je begeleider van je stagebedrijf naar de Hogeschool wilt komen, dan kan je hier een parkeerplek reserveren voor je gast.');
        textTechniek.setAttribute('visible', 'true');
        showText = 3;
      }


    }

    function doeiText(doos){
      if (doos == 1){
        var textTechniek = document.getElementById("textTechniek");
        textTechniek.setAttribute('visible', 'false');
      }

      else if(doos == 2){
        var textTechniek = document.getElementById("textTechniek");
        textTechniek.setAttribute('visible', 'false');
      }

      else if(doos ==3){
        var textTechniek = document.getElementById("textTechniek");
        textTechniek.setAttribute('visible', 'false');
      }
    }

</script>
