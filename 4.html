<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IMTHMI</title>
    <meta name="description" content="Hello, World! â€¢ A-Frame">
    <!-- Aframe.io master JS inladen -->
    <script src="dist/aframe-master.js"></script>
    <script src="https://rawgit.com/bryik/aframe-bmfont-text-component/master/dist/aframe-bmfont-text-component.min.js"></script>
    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="http://popcornjs.org/code/dist/popcorn-complete.js"></script>
  </head>
  <body>
    <!-- Hieronder staat een scene -->
    <a-scene>
      <!-- Hieronder staan de voorgedefinieerde attributen-->
      <a-assets>
        <!--Achtergrond video (1) voor de school-->
        <video id="video4" src="movies/video4.mp4"
               loop crossorigin></video>
      </a-assets>
      <!--Hieronder staat de camera-->
      <a-camera>
            <a-entity cursor="fuse: true; maxDistance: 30; timeout: 500" position="0 0 -15" geometry="primitive: ring" material="color: white; shader: flat">
                <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
                <a-animation begin="fusing" easing="ease-in" attribute="scale" fill="forwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
            </a-entity>
        <a-box id="userText" position="6.80 0 -12.80" rotation="0 90 0" scale="0 5 10" opacity="0.3" color="grey" geometry="mergeTo:null"></a-box>
        <a-entity id="textTechniek" visible='false' bmfont-text="width: 600; color: white; opacity: 1; text:
      In dit lokaal vinden de meeste lessen voor de specialities plaats. Vanaf het tweede jaar, maar ook in het eerste jaar zul je hier vaak te vinden zijn als student." position="2 -1 -12.63" rotation="0 0 0" scale="3 3 3"></a-entity>
			<a-image id="miniMap" src="minimap/minimap_v4.png" position="-7 -3 -5" scale="2 2 2"></a-image>
      </a-camera>

      <!--Hieronder worden ingeladen attributen geselecteerd-->
      <a-videosphere src="#video4" rotation="0 180 0"></a-videosphere>

      <!--Scripts voor pauze-->
      <script>
        $( document ).ready(function(){
          var video =  document.querySelector("#video4");
          var kaas = true;
          //Deze functie blijft aan de video vragen hoe ver hij is en zet hem dan in een loop voor de laatste 20 seconden.
          video.addEventListener("timeupdate", function () {
            if ($('#video4')[0].currentTime >= 22 && kaas) {
              console.log(this.currentTime);
              this.pause();
              this.currentTime = 20;
              this.play();
            }

          });

        });

      </script>

      <!--Box Lift-->
      <a-box id="boxLift" position="-17.3 -1.16 26.2" scale="0.1 6 8" rotation="0 60" opacity="0.5" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>

      <!--Box Computereiland-->
      <a-box id="boxComps" position="-20.7 -1.16 19.10" scale="0.1 6 8" rotation="0 30" opacity="0.5" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>

      <!--Box Collegezaal-->
      <a-box id="boxZaal" position="-24.7 1.49 -14.5" scale="0.1 6 8" rotation="0 -20" opacity="0.5" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>
        <!--Tekst Collegezaal-->

      <!-- Box Rode Trap-->
      <a-box id="boxTrap" position="-21.26 -1.59 3.02" scale="0.1 7 7" rotation="0 20" opacity="0.5" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>
        <!-- Tekst Rode Trap-->
        <
		<a-box id="boxNaarBoven" position="-30 8 20" scale="0.1 7 7" rotation="0 50 0" opacity="0.5" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>
		
		<a-entity id="textNaarBoven" bmfont-text="width: 450; text: Naar boven" position="-23 11 20" rotation="0 135 0" scale="8 8 8"></a-entity>


      <!-- Box naar de Hal -->
      <a-box id="boxHal" position="39 7 -3" scale="0.1 10 14" rotation="0 0" opacity="0.5" material="normalScale:{&quot;x&quot;:null}" geometry="mergeTo:null" ></a-box>


		<a-entity id="hal_text" bmfont-text="width: 450; text: Terug naar de hal" position="28 0 -9" rotation="0 -90 0" scale="8 8 8"></a-entity>


    </a-scene>
    <!-- Einde van de scene -->
  </body>
</html>

<script type="text/javascript">
	var naar3 = document.getElementById('boxHal');
	var naar6 = document.getElementById('boxNaarBoven');
	var text;
	
	var test = false;
	
	naar3.addEventListener('click', function () {
		window.location.href = 'http://localhost/imthmi/3.html';
	});
	
	naar6.addEventListener('click', function () {
		window.location.href = 'http://localhost/imthmi/6.html';
	});



    //maak de usertextbox onzichtbaar
    document.getElementById('userText').setAttribute('visible', 'false');
    var open = false;
    var showText = 0;

    //maak een listener voor de boxen
    //als er op de box wordt geklikt
    //doos 1
    document.querySelector('#boxLift').addEventListener('click', function () {
      if (!open) {
        changeText(1);
        openDoos();
      }

      else if(open && showText != 1){
        changeText(1);
        openDoos();
      }

      else if(open){
        doeiText(1);
        sluitDoos();
      }

    });


    document.querySelector('#boxComps').addEventListener('click', function () {
      if (!open) {
        changeText(2);
        openDoos();
      }

      else if(open && showText != 2){
        changeText(2);
        openDoos();
      }

      else if(open){
        doeiText(2);
        sluitDoos();
      }
    });

    document.querySelector('#boxTrap').addEventListener('click', function () {
      if (!open) {
        changeText(3);
        openDoos();
      }

      else if(open && showText != 3){
        changeText(3);
        openDoos();
      }

      else if(open){
        doeiText(3);
        sluitDoos();
      }

    });

    document.querySelector('#boxZaal').addEventListener('click', function () {
      if (!open) {
        changeText(4);
        openDoos();
      }

      else if(open && showText != 4){
        changeText(4);
        openDoos();
      }

      else if(open){
        doeiText(4);
        sluitDoos();
      }

    });

    function openDoos(){
      var userText = document.getElementById("userText");
      userText.setAttribute('visible', 'true');
      open = true;
    }

    function sluitDoos(){
      var userText = document.getElementById("userText");
      userText.setAttribute('visible', 'false');
      open = false;
    }

    function changeText(doos){

      if (doos == 1){
        var textTechniek = document.getElementById("textTechniek");
        var userText = document.getElementById("userText");
        userText.setAttribute('scale','0 5 10');
        textTechniek.setAttribute('position','2.30 -2.10 -12.21');
        textTechniek.setAttribute('scale','2.75 2.5 2.75');
        textTechniek.setAttribute('bmfont-text', 'text', "De liften op de hogeschool zijn bedoeld voor mensen die slecht ter been zijn en voor het personeel van de school die met grote spullen aan de haal zijn. Er wordt geen probleem gemaakt van studenten die de lift pakken, maar onthoud wie er voorrang heeft!");
        textTechniek.setAttribute('visible', 'true');
        showText = 1;
      }

      else if(doos == 2){
        var textTechniek = document.getElementById("textTechniek");
        var userText = document.getElementById("userText");
        userText.setAttribute('scale','0 6.5 10');
        textTechniek.setAttribute('position','2.3 -2.73 -12.10');
        textTechniek.setAttribute('scale','2.75 2.5 2.75');
        textTechniek.setAttribute('bmfont-text', 'text', 'Het computereiland kan worden gebruikt door studenten om op te werken. Elke student kan met zijn of haar studentnummer en wachtwoord inloggen op deze computers. Deze computers worden gebruikt voor verschillende zaken zoals het werken aan documenten, maar ook kan een student eenvoudig het rooster bekijken of de cijferlijst inkijken.');
        textTechniek.setAttribute('visible', 'true');
        showText = 2;
      }

      else if(doos ==3){
        var textTechniek = document.getElementById("textTechniek");
        var userText = document.getElementById("userText");
        userText.setAttribute('scale','0 4.5 9.8');
        textTechniek.setAttribute('position','2.3 -1.86 -11.71');
        textTechniek.setAttribute('scale','2.75 2.5 2.75');
        textTechniek.setAttribute('bmfont-text', 'text', 'De rode trap is een centraal punt in het gebouw van de Hogeschool Leiden. Vanaf hier kan vrijwel alle plekken van de Hogeschool worden bereikt. De rode trap brengt je naar de eerste, tweede en derde verdieping.');
        textTechniek.setAttribute('visible', 'true');
        showText = 3;
      }
      else if(doos ==4){
        var textTechniek = document.getElementById("textTechniek");
        var userText = document.getElementById("userText");
        userText.setAttribute('scale','0 5.5 9.8');
        textTechniek.setAttribute('position','2.3 -2.29 -12.04');
        textTechniek.setAttribute('scale','2.75 2.5 2.75');
        textTechniek.setAttribute('bmfont-text', 'text', 'Bij de rode trap zelf zijn twee collegezalen te vinden. Deze worden gebruikt door vrijwel alle studenten van de Hogeschool Leiden, ongeacht de opleiding. Het is dan ook gebruikelijk voor studenten enkele uren per week in de collegezalen te spenderen voor verschillende vakken.');
        textTechniek.setAttribute('visible', 'true');
        showText = 4;
      }

    }

    function doeiText(doos){
      if (doos == 1){
        var textTechniek = document.getElementById("textTechniek");
        textTechniek.setAttribute('visible', 'false');
      }

      else if(doos == 2){
        var textTechniek = document.getElementById("textTechniek");
        textTechniek.setAttribute('visible', 'false');
      }

      else if(doos ==3){
        var textTechniek = document.getElementById("textTechniek");
        textTechniek.setAttribute('visible', 'false');
      }
      else if(doos ==4){
        var textTechniek = document.getElementById("textTechniek");
        textTechniek.setAttribute('visible', 'false');
      }
    }



</script>



